# 安装调试自动化命令

window电脑上

```shell
# ！！！括号前面至少要有一个空格
@echo off
# 解决中文乱码
chcp 65001
:init
set /p option='选择操作项（1.安装 2.启动 3.回退 4.Home 5.Kill 6.设置 7.退出 8.卸载 ):' 
if %option% == 1 (
  goto flag_install
)else if %option% == 2 (
  goto launch
)else if %option% == 3 (
  adb shell input keyevent 4 
  goto init
)else if %option% == 4 (
  #adb shell input keyevent 3 
  adb shell am start -n com.android.launcher3/com.android.launcher3.Launcher 
  goto init
)else if %option% == 5 (
  adb shell am force-stop com.xxx.xxxapp
  goto init
)else if %option% == 6 (
  adb shell am start com.android.settings/com.android.settings.Settings
  goto init
)else if %option% == 7 (
  exit
)else if %option% == 8 (
  adb uninstall com.xxx.xxxapp
  goto init
)else (
echo '输入错误，请重新选择'
  goto init
)

:flag_install
adb devices
adb shell setenforce 0
adb remount
adb uninstall com.xxx.xxxapp
adb install -t -r xxxpath.app
adb shell am start -n com.xxx.xxxapp/xxxxx.MainActivity
goto init

:launch
adb shell am start -n com.xxx.xxxapp/xxxxx.MainActivity
goto init
```



mac电脑上

```shell
#!/bin/bash
echo "Hello World !"

read -p "选择操作项（1.安装 2.启动 3.回退 4.Home 5.Kill 6.设置 7.退出 8.测试 9.导出崩溃日志  10.卸载  11.截屏):" option

if [ $option == 1 ]
then
	echo "option == 1，安装"
	adb devices
	adb shell setenforce 0
	adb remount
	adb uninstall com.xxx.xxx
	adb install -t -r /Users/xxx/Desktop/xxx/release.apk
	adb shell am start -n com.xxx.xxx/.ui.activity.XXXActivity
elif [ $option == 2 ]
then
	echo "option == 2，启动"
	adb shell am start -n com.xxx.xxx/.ui.activity.XXXActivity
elif [ $option == 3 ]
then
	echo "option == 3，回退"
	adb shell input keyevent 4 
elif [ $option == 4 ]
then
	echo "option == 4，Home"
	#adb shell input keyevent 3 
    adb shell am start -n com.android.launcher3/com.android.launcher3.Launcher 
elif [ $option == 5 ]
then
	echo "option == 5, Kill"
	adb shell am force-stop com.xxxx.xxx
elif [ $option == 6 ]
then
	echo "option == 6, 设置"
	adb shell am start com.android.settings/com.android.settings.Settings
elif [ $option == 7 ]
then
	echo "option == 7, 退出"
	exit
elif [ $option == 8 ]
then
	echo "option == 8, 测试"
	#禁用通知栏
  	adb shell settings put global policy_control immersive.full=*
  	adb shell monkey -p com.xxxx.xxx -s 2333 --pct-touch 70 --pct-motion 30 --ignore-crashes --ignore-timeouts --monitor-native-crashes --throttle 200 -v -v 500
 	#解禁通知栏
  	adb shell settings put global polic
elif [ $option == 9 ]
then
	echo "option == 9, 导出崩溃日志"
	adb pull /storage/emulated/0/Android/data/com.xxx.xxx/files/czlog /Users/xxx/Desktop/xxxx/logs
	exit
elif [ $option == 10 ]
then
	echo "option == 10, 卸载"
	adb uninstall com.xxx.xxx
elif [ $option == 11 ]
then
	echo "option == 11, 截屏"
	adb exec-out screencap -p > screen.png
else 
	echo "no match"
fi
```



















