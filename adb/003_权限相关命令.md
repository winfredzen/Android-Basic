# 权限相关

参考：

+ [【朝花夕拾】Android安全之（一）权限篇](https://www.cnblogs.com/andy-songwei/p/10638446.html)



**1.查看指定app中权限申请情况**

```shell
adb shell dumpsys package [包名]
```

该命令用于获取该app的package信息，Permission信息只是其中的一部分。

如`adb shell dumpsys package com.vo.test`

![003](https://github.com/winfredzen/Android-Basic/blob/master/adb/images/003.png)



**2.查看权限的声明者和使用者**

```
adb shell dumpsys package permission <权限名>
```

该命令可以查看指定权限是谁声明的，有哪些应用申请了该权限



**3.授予指定权限**

```java
adb shell pm grant [packageName] [permissionName]
```

为packageName应用授予permissionName权限（可以同时授予多项权限）



**4.移除指定权限**

```shell
adb shell pm revoke [packageName] [permissionName]
```

移除packageName应用的permissionName权限（可以同时移除多项权限）



**5.查看系统定义的所有权限**

```java
adb shell pm list permissions -s[option]
```

不加`-s`会显系统中定义的所有权限名列表，加了`-s`会显示对这些权限的用途说明

如下加`-s`与不加`-s`的区别

![004](https://github.com/winfredzen/Android-Basic/blob/master/adb/images/004.png)

![005](https://github.com/winfredzen/Android-Basic/blob/master/adb/images/005.png)



**6.按组查看权限**

```shell
adb shell pm list permissions -d -g
```

![006](https://github.com/winfredzen/Android-Basic/blob/master/adb/images/006.png)



**7.授予所有权限**

```java
adb shell install -g MyApp.apk
```

当安装`MyApp.apk`到模拟器或测试机上时，如果加上`-g`，可以自动授予所有权限







