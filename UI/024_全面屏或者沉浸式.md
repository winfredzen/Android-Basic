# 全面屏或者沉浸式

参考：

+ [控制系统界面可见度](https://developer.android.com/training/system-ui?hl=zh-cn) - 官网



## ActionBar

### 隐藏ActionBar

1.使用style，继承自

```xml
Theme.AppCompat.NoActionBar（暗色主题）
```

或者

```xml
Theme.AppCompat.Light.NoActionBar（亮色主题）
```

2.代码方式

`Activity` 继承自 `AppCompatActivity` 时

```java
getSupportActionBar().hide();//这种方式默认式亮色主题
```

`Activity` 继承自 `Activity` 时

```java
getActionBar().hide();
```

此时，单独隐藏ActionBar的效果如下：

![067](https://github.com/winfredzen/Android-Basic/blob/master/UI/images/067.png)



## 状态栏

参考：

+ [Android沉浸式状态栏，看完这篇就够了！](https://blog.csdn.net/qq_34681580/article/details/103955191)



### 透明状态栏

在上一节隐藏ActionBar的基础上

![069](https://github.com/winfredzen/Android-Basic/blob/master/UI/images/069.png)

如果要实现透明状态栏，可以使用如下的方式：

```java
<item name="android:windowTranslucentStatus">true</item>
或者
if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.KITKAT) {
   getWindow().addFlags(WindowManager.LayoutParams.FLAG_TRANSLUCENT_STATUS);
}
```

此时的效果如下：

![070](https://github.com/winfredzen/Android-Basic/blob/master/UI/images/070.png)

此时，layout的布局位置就发生了变化，可以使用**`android:fitsSystemWindows="true"`**来恢复padding



同样的道理，设置navigation bar

```java
if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.KITKAT) {
    getWindow().addFlags(WindowManager.LayoutParams.FLAG_TRANSLUCENT_NAVIGATION);
}
或者
<item name="android:windowTranslucentNavigation">true</item>  
```

![071](https://github.com/winfredzen/Android-Basic/blob/master/UI/images/071.png)





## 全面屏

普通手机（非刘海屏）的全面屏，通过在代码中设置如下的方式，即可实现

```java
getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);
```

![068](https://github.com/winfredzen/Android-Basic/blob/master/UI/images/068.png)





另外参考：

+ [启用全屏模式](https://developer.android.com/training/system-ui/immersive)



1.向后倾斜

如果只设置`View.SYSTEM_UI_FLAG_FULLSCREEN | View.SYSTEM_UI_FLAG_HIDE_NAVIGATION`

```java
View decorView = getWindow().getDecorView();
decorView.setSystemUiVisibility(View.SYSTEM_UI_FLAG_FULLSCREEN | View.SYSTEM_UI_FLAG_HIDE_NAVIGATION);
```

效果：刚出现时闪一下变为全面屏，点击后，又退出全面屏显示

![072](https://github.com/winfredzen/Android-Basic/blob/master/UI/images/072.gif)





























