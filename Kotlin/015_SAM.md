# SAM

å‚è€ƒï¼š

+ [SAM Conversions](https://kotlinlang.org/docs/reference/java-interop.html#sam-conversions)

SAMè¡¨ç¤ºçš„æ˜¯Single Abstract Methodå•ä¸ªæŠ½è±¡æ–¹æ³•

åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­ï¼Œé‡åˆ°å¦‚ä¸‹çš„å†™æ³•ï¼Œå¼€å§‹å¾ˆå›°æƒ‘ï¼Œå› ä¸ºåŸæ¥æ²¡è§è¿‡ğŸ˜…

![016](https://github.com/winfredzen/Android-Basic/raw/master/Kotlin/images/016.png)

> **ä½•ä¸º SAM**
>
> æˆ‘ä»¬å…ˆæ¥ç®€å•å›é¡¾ä¸‹ä½•ä¸º SAMã€‚å®ƒå…¶å®ä¸æ˜¯è‹±æ–‡å Samï¼Œè€Œæ˜¯ Single Abstract Methodï¼Œç›´æ¥ç†è§£å°±æ˜¯ä¸€ä¸ªæŠ½è±¡çš„æ–¹æ³•ã€‚Kotlin å¾ˆæ—©å°±æ”¯æŒäº†å¯¹ å‚æ•°åŒ…å«åªæœ‰ä¸€ä¸ªæ–¹æ³•çš„ Java æ¥å£çš„ Java æ–¹æ³•çš„ SAM è½¬æ¢ï¼Œè¯´èµ·æ¥æœ‰ç‚¹å„¿æ‹—å£ï¼Œæˆ‘ä»¬çœ‹ä¸ªä¾‹å­ï¼š
>
> ```java
> public interface Runnable {
>     public abstract void run();
> }
> ```
>
> `Runnable` æ˜¯ä¸€ä¸ªåªæœ‰ä¸€ä¸ªæ–¹æ³•çš„ Java æ¥å£ï¼Œæˆ‘ä»¬è¿™æ—¶å€™è¿˜æœ‰è¿™æ ·çš„æ–¹æ³•ï¼š
>
> ```java
> void execute(Runnable command){
>     ...
> }
> ```
>
> æˆ‘ä»¬æ³¨æ„åˆ° `execute` æ–¹æ³•æœ‰ä¸€ä¸ªå‚æ•°æ˜¯ `Runnable`ï¼Œé‚£ä¹ˆåœ¨ Kotlin å½“ä¸­ä½¿ç”¨ `execute` æ—¶ï¼š
>
> ```kotlin
> execute { 
>     ...
> }
> ```
>
> Kotlin å…è®¸ç»™ `execute` æ–¹æ³•ä¼ å…¥ä¸€ä¸ª Lambda è¡¨è¾¾å¼ï¼Œè€Œä¸éœ€è¦ `Runnable` çš„å®ä¾‹ï¼Œå› ä¸ºåœ¨ Kotlin çœ‹æ¥ï¼Œè¿™ä¸ªæ–¹æ³•å®ƒæœ¬èº«æ˜¯å¯ä»¥æ¥å—ä¸¤ç§ç±»å‹çš„å‚æ•°çš„ï¼š`Runnable` å’Œ `()->Unit`ã€‚
>
> [1.3 å‘äº†ï¼Œè¯´ä¸¤å¥å…³äº Kotlin SAM çš„](https://discuss.kotliner.cn/t/topic/330)

å®˜æ–¹æ–‡æ¡£æè¿°

> **SAM Conversions**
>
> Just like Java 8, Kotlin supports SAM conversions. This means that Kotlin function literals can be automatically converted into implementations of Java interfaces with a single non-default method, as long as the parameter types of the interface method match the parameter types of the Kotlin function. 
>
> Kotlin function literalså¯è‡ªåŠ¨è½¬æ¢ä¸ºå®ç°å•ä¸ªéé»˜è®¤æ–¹æ³•çš„java interface
>
> å¯ä»¥åˆ›å»ºSAMæ¥å£å®ä¾‹
>
> ```kotlin
> val runnable = Runnable { println("This runs in a runnable") }
> ```
>
> åœ¨æ–¹æ³•ä¸­è°ƒç”¨
>
> ```kotlin
> val executor = ThreadPoolExecutor()
> // Java signature: void execute(Runnable command)
> executor.execute { println("This runs in a thread pool") }
> ```



`BottomNavigationView.OnNavigationItemSelectedListener` æ˜¯javaé‡Œé¢çš„æ¥å£ï¼Œæ‰€ä»¥kotlinå¯ä»¥è¿™æ ·è°ƒç”¨

![017](https://github.com/winfredzen/Android-Basic/raw/master/Kotlin/images/017.png)



