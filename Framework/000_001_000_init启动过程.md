# init启动过程

参考《Android进阶解密》，但现在Android的源码发生了很多变化，所以也参考了很多网上的内容：

+ [Android 11 init启动流程](https://blog.csdn.net/poployal/article/details/124193652)

+ [framework | init进程流程分析](https://juejin.cn/post/7135358027913232421)



**Android系统启动流程**

![045](https://github.com/winfredzen/Android-Basic/blob/master/Framework/images/045.png)



**init进程启动**

![046](https://github.com/winfredzen/Android-Basic/blob/master/Framework/images/046.png)



**总结**

init进程主要做了如下的三件事情：

+ 创建和挂载启动所需的文件目录
+ 初始化和启动属性服务
+ 解析`init.rc`配置文件并启动zygote进程



## 属性服务

> 我们知道，Windows平台上有一个叫注册表的东西。注册表可以存储一些类似key/value的键值对。一般而言，系统或某些应用程序会把自己的一些属性存储在注册表中，即使下次系统重启或应用程序重启，它还能够根据之前在注册表中设置的属性，进行相应的初始化工作。Android平台也提供了一个类型机制，可称之为属性服务（property service）。应用程序可通过这个属性机制，查询或设置属性

`adb shell`登录后，通过`getprop`获取属性服务：

![067](https://github.com/winfredzen/Android-Basic/blob/master/Framework/images/067.png)









