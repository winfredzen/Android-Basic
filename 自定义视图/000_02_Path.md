# Path

Canvas中使用`void drawPath(Path path, Paint paint)`方法绘制路径

如下绘制一个简单的三角形：

```java
@Override
protected void onDraw(Canvas canvas) {
    super.onDraw(canvas);
    Paint paint = new Paint();
    paint.setColor(Color.RED);
    paint.setStyle(Paint.Style.STROKE);
    paint.setStrokeWidth(10);
    Path path = new Path();
    path.moveTo(10, 10);
    path.lineTo(10,100);
    path.lineTo(300, 100);
    path.close();
    canvas.drawPath(path, paint);
}
```

![026](https://github.com/winfredzen/Android-Basic/blob/master/自定义视图/images/026.png)



**弧线**

```java
void arcTo(@NonNull RectF oval, float startAngle, float sweepAngle)
```

+ oval - 生成椭圆的矩形
+ startAngle - 起始角度，x轴正向为0
+ sweepAngle - 弧持续的角度

如下的例子：

```java
@Override
protected void onDraw(Canvas canvas) {
    super.onDraw(canvas);
    Paint paint = new Paint();
    paint.setColor(Color.RED);
    paint.setStyle(Paint.Style.STROKE);
    paint.setStrokeWidth(10);
    Path path = new Path();
    path.moveTo(10, 10);
    path.arcTo(new RectF(100, 10, 200, 100), 0, 90);
    canvas.drawPath(path, paint);
}
```

![027](https://github.com/winfredzen/Android-Basic/blob/master/自定义视图/images/027.png)

可以看到，弧度的起始点和path的起始点还连接了一条直线，因为默认情况下路径是连贯的，要解决这种情况：

+ 调用`addXXXX`系列函数
+ 调用`moveTo()`修改起始点位置

如果不想连接，可以使用`arcTo`的重载方法

```java
void arcTo(@NonNull RectF oval, float startAngle, float sweepAngle,
                      boolean forceMoveTo) 
```

```java
void arcTo(float left, float top, float right, float bottom, float startAngle,
            float sweepAngle, boolean forceMoveTo)
```

+ `forceMoveTo` - 是否强制将弧的起始点作为绘制起始位置



修改为：

```java
path.arcTo(new RectF(100, 10, 200, 100), 0, 90, true);
```

![028](https://github.com/winfredzen/Android-Basic/blob/master/自定义视图/images/028.png)



## addXXX系列函数

addXXX系列函数在path中添加一些曲线

**添加矩形**

```java
void addRect(@NonNull RectF rect, @NonNull Direction dir)
void addRect(float left, float top, float right, float bottom, @NonNull Direction dir)
```

+ `Path.Direction.CCW` - 是counter-clockwise的缩写，创建逆时针方向的矩形路径
+ `Path.Direction.CW` - clockwise的缩写，顺时针方向创建矩形路径

> 方向的区别在于排版文字

如下的例子：

```java
    @Override
    protected void onDraw(Canvas canvas) {
        super.onDraw(canvas);

        Paint paint = new Paint();
        paint.setColor(Color.RED);
        paint.setStyle(Paint.Style.STROKE);
        paint.setStrokeWidth(10);

        //逆时针
        Path CCWRectPath = new Path();
        CCWRectPath.addRect(new RectF(50, 50, 240, 200), Path.Direction.CCW);

        //顺时针
        Path CWRectPath = new Path();
        CWRectPath.addRect(new RectF(290, 50, 480, 200), Path.Direction.CW);

        canvas.drawPath(CCWRectPath, paint);
        canvas.drawPath(CWRectPath, paint);

        String text = "生死有命，富贵在天";
        paint.setColor(Color.GREEN);
        paint.setTextSize(35);
        canvas.drawTextOnPath(text, CCWRectPath, 0,18, paint);
        canvas.drawTextOnPath(text, CWRectPath, 0,18, paint);
        
    }
```

效果如下：

![029](https://github.com/winfredzen/Android-Basic/blob/master/自定义视图/images/029.png)



















