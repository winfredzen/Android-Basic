# 未捕获异常

**Java异常**

Java异常教程，可参考如下的教程：

+ [“崩溃了？不可能，我全 Catch 住了” | Java 异常处理](https://segmentfault.com/a/1190000017918151)



**Java中的未捕获异常**

参考：

+ [JVM 如何处理未捕获异常](https://droidyue.com/blog/2019/01/06/how-java-handle-uncaught-exceptions/)



> 未捕获异常指的是我们在方法体中没有使用try-catch捕获的异常，比如下面的例子
>
> ```java
> private static void testUncaughtException(String arg) {
>     try {
>         System.out.println(1 / arg.length());
>     } catch (ArithmeticException e) {
>         e.printStackTrace();
>     }
> }
> ```
>
> - 如果方法参数arg传递null，会出现`NullPointerException`
> - 如果参数arg传递内容为空的字符串(“”)，会出现`ArithmeticException`
>
> - `NullPointerException` 由于我们没有catch住，就变成了我们要聊的未捕获异常



## UncaughtExceptionHandler

- 它是线程遇到未捕获异常的一个处理者接口
- 它包含一个方法`void uncaughtException(Thread t, Throwable e);` 用来处理接收处理异常发生后的操作，比如收集崩溃信息并上报等
- 可以通过 实例方法 `Thread.setUncaughtExceptionHandler` 为某一个Thread实例设置未捕获异常处理者
- 也可以通过 静态方法 `Thread.setDefaultUncaughtExceptionHandler` 设置所有Thread实例的未捕获异常处理者



大概的处理流程：

![033](https://github.com/winfredzen/Android-Basic/blob/master/%E8%BF%9B%E9%98%B6/image/033.png)





## Android未捕获异常处理机制

参考：

+ [Java & Android未捕获异常处理机制](https://juejin.cn/post/6844904006041468935#heading-5)



> 默认情况下，Android子线程中出现了未捕获的异常，在是会导致App闪退的，且有异常信息堆栈输出。 



























