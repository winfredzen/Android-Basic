# 混淆

可参考官方文档[缩减、混淆处理和优化应用](https://developer.android.com/studio/build/shrink-code?hl=zh-cn)了解一些基本信息



ProGuard规则可参考：

+ [ProGuard manual](guardsquare.com/manual/configuration/usage)



## mapping

生成的`mapping.txt`文件位于`build/outputs/mapping/release/mapping.txt`

也可以在`proguard-rules.pro`使用`-printmapping mapping.txt`打印出`mapping`内容





## retrace

混淆后抛出的异常信息内容，无法准确定位异常位置，可通过`retrace`工具来

`retrace`位于Android SDK下 `/Users/xxx/Library/Android/sdk/tools/proguard/bin/retrace.sh`

例如，将异常信息保存在`trace.txt`文件，结合`mapping.txt`

```sh
 ./retrace.sh xxxx/mapping.txt xxxx/trace.txt
```



## 组件化与混淆

> 我们可以将固定的第三方混淆放到common模块的`consumer-rules.pro`文件中，每个模块独有的第三方引用库混淆放到各自的`consumer-rules.pro`文件中，在app模块的`proguard-rule.pro`文件中放入Android通用的混淆声明，如四大组件和全局的混淆等配置。这样可以最大限度的完成混淆解耦操作。



## 工具

### Jadx

[Jadx](https://github.com/skylot/jadx)Jadx 的强大之处在于相较于 AS 自带的分析器，它还能直接查看源代码，AS 只能看到类名和方法名，简直是逆向神器。



## 其它

+ [关于安卓APP加固基础的总结](https://bbs.kanxue.com/thread-258264.htm)
+ [Android混淆配置（含androidx、kotlin）](https://blog.csdn.net/MirkoWug/article/details/118107383)
